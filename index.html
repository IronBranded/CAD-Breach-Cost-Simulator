<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Canadian Breach Cost Simulator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-dark: #0b1120;
      --card-bg: #1e293b;
      --accent-blue: #38bdf8;
      --accent-red: #ef4444;
      --accent-purple: #a855f7;
      --accent-green: #22c55e;
      --text-main: #f1f5f9;
      --text-muted: #94a3b8;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-dark);
      margin: 0;
      color: var(--text-main);
      padding-bottom: 50px;
    }

    .container {
      background: var(--card-bg);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 0 40px rgba(56, 189, 248, 0.1);
      max-width: 800px;
      margin: 60px auto;
      border: 1px solid #334155;
    }
    
    h1 {
      text-align: center;
      background: linear-gradient(to right, #38bdf8, #818cf8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
      font-weight: 800;
      letter-spacing: -1px;
    }
    
    .subtitle {
      text-align: center;
      color: var(--text-muted);
      margin-bottom: 40px;
      font-size: 0.95rem;
    }

    .grid-form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
    }
    .full-width { grid-column: span 2; }

    label {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--accent-blue);
      margin-bottom: 8px;
      display: block;
      font-weight: 700;
    }

    select {
      width: 100%;
      padding: 14px;
      background: #0f172a;
      border: 1px solid #334155;
      color: white;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      appearance: none;
      cursor: pointer;
    }
    select:focus { outline: 2px solid var(--accent-blue); border-color: transparent; }

    button.primary-btn {
      width: 100%;
      margin-top: 30px;
      padding: 18px;
      background: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button.primary-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px -5px rgba(14, 165, 233, 0.4);
    }

    .dashboard-container {
      display: none;
      max-width: 1000px;
      margin: 40px auto;
      animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .hero-card {
      background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
      border: 1px solid #334155;
      border-radius: 16px;
      padding: 30px;
      text-align: center;
      margin-bottom: 25px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
    }
    
    .hero-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; height: 4px;
      background: linear-gradient(90deg, var(--accent-red), var(--accent-purple), var(--accent-blue));
    }

    .incident-tag {
      display: inline-block;
      padding: 6px 12px;
      background: rgba(239, 68, 68, 0.1);
      color: var(--accent-red);
      border: 1px solid rgba(239, 68, 68, 0.2);
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 700;
      margin-bottom: 15px;
      text-transform: uppercase;
    }

    .total-cost-label {
      color: var(--text-muted);
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .total-cost-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 3.5rem;
      font-weight: 700;
      color: white;
      margin: 10px 0;
      text-shadow: 0 0 30px rgba(239, 68, 68, 0.3);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 25px;
      margin-bottom: 25px;
    }

    .chart-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 25px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border: 1px solid #334155;
    }

    .donut-chart {
      width: 180px; height: 180px;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      position: relative; margin-bottom: 20px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
    }
    .donut-hole {
      width: 130px; height: 130px;
      background: var(--card-bg);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      flex-direction: column;
    }

    .detail-card {
      background: var(--card-bg);
      padding: 25px;
      border-radius: 12px;
      border-left: 4px solid;
      border-top: 1px solid #334155;
      margin-bottom: 15px;
    }
    .detail-card h4 { margin-top: 0; color: var(--text-muted); font-size: 0.8rem; text-transform: uppercase; }
    .detail-card.tech { border-left-color: var(--accent-blue); }
    .detail-card.legal { border-left-color: var(--accent-purple); }
    .detail-card.business { border-left-color: var(--accent-red); }

    .cost-row { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 0.9rem; }
    .price { font-family: 'JetBrains Mono', monospace; color: white; }
    
    .loading-overlay {
      display: none;
      position: fixed; inset: 0;
      background: rgba(11, 17, 32, 0.95);
      z-index: 999;
      flex-direction: column; justify-content: center; align-items: center;
    }

    @keyframes spin { to { transform: rotate(360deg); } }
    .spinner { width: 50px; height: 50px; border: 4px solid rgba(56, 189, 248, 0.3); border-top-color: var(--accent-blue); border-radius: 50%; animation: spin 1s linear infinite; }
  </style>
</head>
<body>

  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
    <p style="margin-top: 20px; color: var(--accent-blue); font-family: 'JetBrains Mono';">ANALYZING DATA...</p>
  </div>

  <div class="container" id="formContainer">
    <h1>Breach Cost Simulator</h1>
    <p class="subtitle"> Visualizing the financial gravity of a compromise through a Canadian lens.</p>

    <div class="grid-form">
      <div class="full-width">
        <label>Incident Scenario</label>
        <select id="incidentType">
          <option value="Ransomware">Ransomware Attack</option>
          <option value="BEC">Business Email Compromise (BEC)</option>
          <option value="DataBreach">Data Leak (PII/PHI Exposure)</option>
          <option value="Insider">Insider Threat (Malicious)</option>
          <option value="DoS">Denial of Service (DDoS)</option>
        </select>
      </div>

      <div>
        <label>Industry</label>
        <select id="industryType">
          <option value="">Select industry</option>
          <option value="1.4">Education</option>
          <option value="1.8">Energy / Industrial</option>
          <option value="2.0">Finance </option>
          <option value="1.5">Government</option>
          <option value="2.2">Healthcare / Pharma</option>
          <option value="1.5">Legal</option>
          <option value="1.7">Manufacturing</option>
          <option value="1.0">Retail</option>
          <option value="1.5">Telecommunications</option>
          <option value="1.4">Tech</option>
        </select>
      </div>

      <div>
        <label>PII Leak Volume</label>
        <select id="recordCount">
          <option value="Low">&lt; 1,000 Records</option>
          <option value="Medium">1k - 10k Records</option>
          <option value="High">10k - 50k Records</option>
          <option value="Critical">50k+ Records</option>
        </select>
      </div>

      <div class="full-width">
        <label>Annual Revenue (CAD)</label>
        <select id="revenueBracket">
          <option value="">Select revenue</option>
          <option value="Micro">$50,000 - $2,000,000</option>
          <option value="Small">$2,000,000 - $10,000,000</option>
          <option value="Mid">$10,000,000 - $100,000,000</option>
          <option value="Large">$100,000,000+</option>
        </select>
      </div>

      <div class="full-width">
        <label>Root Cause</label>
        <select id="rootCause">
          <option value="">Select main cause</option>
          <option value="Human Error">Human Error & Social Engineering</option>
          <option value="Exploited Vuln">Exploited Vulnerabilities</option>
          <option value="Compromission by Third Party / Supply chain">Third Party / Supply Chain Compromise</option>
        </select>
      </div>
    </div>

    <button class="primary-btn" onclick="runSimulation()">Run Simulation</button>
  </div>

  <div class="dashboard-container" id="dashboardContainer">
    <div class="hero-card">
      <span class="incident-tag" id="resIncidentType">RANSOMWARE</span>
      <div class="total-cost-label">Total Estimated Financial Exposure</div>
      <div class="total-cost-value" id="resGrandTotal">$0.00</div>
      <div class="total-cost-sub" id="resDuration">--</div>
    </div>

    <div class="stats-grid">
      <div class="chart-card">
        <div class="donut-chart" id="donutChart">
          <div class="donut-hole">
            <span style="font-size:0.7rem; color:var(--text-muted)">Top Driver</span>
            <span class="donut-percent" id="topCostPercent" style="font-size:1.5rem; font-weight:bold;">0%</span>
          </div>
        </div>
      </div>

      <div>
        <div class="detail-card tech" id="techDetails"></div>
        <div class="detail-card legal" id="legalDetails"></div>
        <div class="detail-card business" id="bizDetails"></div>
      </div>
    </div>

    <button class="primary-btn" style="background:#334155; width:200px; margin:0 auto; display:block;" onclick="resetSim()">Restart</button>
  </div>

  <div class="detail-card" style="border-left: 4px solid #22c55e; margin-top: 25px; background: #0f172a; border-radius: 8px; overflow: hidden; font-family: 'Segoe UI', Roboto, sans-serif; color: #f8fafc; border-top: 1px solid rgba(34, 197, 94, 0.2); border-right: 1px solid rgba(34, 197, 94, 0.1); border-bottom: 1px solid rgba(34, 197, 94, 0.1);">
    
    <div style="background: rgba(34, 197, 94, 0.1); padding: 15px 20px; border-bottom: 1px solid rgba(34, 197, 94, 0.2);">
        <div style="display: flex; align-items: center; gap: 12px;">
            <div style="width: 10px; height: 10px; background: #22c55e; border-radius: 50%; box-shadow: 0 0 12px #22c55e;"></div>
            <h3 style="color: #22c55e; margin: 0; font-family: 'JetBrains Mono', monospace; letter-spacing: 1px; font-size: 1.1rem;">NCTA 2025-2026 STRATEGIC INTELLIGENCE</h3>
        </div>
    </div>

    <div style="padding: 20px;">
        <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 20px; line-height: 1.6; border-bottom: 1px solid #1e293b; padding-bottom: 15px;">
            Based on CSE observations since NCTA 2023-2024, five core trends will shape Canadaâ€™s cyber threat environment until 2026. These are compounded by an expanding threat surface (Cloud-based AI/IoT) and persistent supply chain vulnerabilities.
        </p>

        <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px;">
            <div style="display: flex; gap: 15px;">
                <span style="color: #22c55e; font-weight: bold; font-family: 'JetBrains Mono'; min-width: 65px;">Trend 1</span>
                <span style="font-size: 0.9rem;"><strong style="color: #3b82f6;">AI Technologies:</strong> Artificial intelligence is amplifying cyber space threats by accelerating research and scaling malicious activities.</span>
            </div>
            <div style="display: flex; gap: 15px;">
                <span style="color: #22c55e; font-weight: bold; font-family: 'JetBrains Mono'; min-width: 65px;">Trend 2</span>
                <span style="font-size: 0.9rem;"><strong style="color: #3b82f6;">Tradecraft:</strong> Actor tradecraft is evolving to evade detection via <strong>Living off the Land</strong> and bypassing security mechanisms.</span>
            </div>
            <div style="display: flex; gap: 15px;">
                <span style="color: #22c55e; font-weight: bold; font-family: 'JetBrains Mono'; min-width: 65px;">Trend 3</span>
                <span style="font-size: 0.9rem;"><strong style="color: #3b82f6;">Geopolitics:</strong> Non-state actors inspired by geopolitical events (PRC, Russia, Iran) are creating global unpredictability.</span>
            </div>
            <div style="display: flex; gap: 15px;">
                <span style="color: #22c55e; font-weight: bold; font-family: 'JetBrains Mono'; min-width: 65px;">Trend 4</span>
                <span style="font-size: 0.9rem;"><strong style="color: #3b82f6;">Vendor Risk:</strong> Concentration in cloud providers (Microsoft, AWS, GCP) creates "digital chokepoints" and system-wide vulnerabilities.</span>
            </div>
            <div style="display: flex; gap: 15px;">
                <span style="color: #22c55e; font-weight: bold; font-family: 'JetBrains Mono'; min-width: 65px;">Trend 5</span>
                <span style="font-size: 0.9rem;"><strong style="color: #3b82f6;">Dual-Use:</strong> Commercial services used for both civilian and military purposes are increasingly in the digital crossfire.</span>
            </div>
        </div>

        <div style="background: rgba(239, 68, 68, 0.07); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: 6px; padding: 15px;">
            <div style="color: #f87171; font-weight: bold; font-size: 0.85rem; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 0.5px;">Critical Threat Assessment</div>
            <p style="margin: 0; font-size: 0.85rem; line-height: 1.5; color: #fca5a5;">
                <strong>Ransomware:</strong> Remains the #1 threat to Canadian critical infrastructure. Average payouts have escalated to <strong>$1.13M CAD</strong>, exacerbated by the exploitation of publicly known vulnerabilities (CVEs) within days of disclosure.
            </p>
        </div>
    </div>
</div>
  
</div>
  <script>
    function runSimulation() {
      if(!document.getElementById("industryType").value || !document.getElementById("revenueBracket").value) {
        alert("Please select Industry and Revenue.");
        return;
      }

      document.getElementById("formContainer").style.display = "none";
      document.getElementById("loadingOverlay").style.display = "flex";

      setTimeout(() => {
        calculateAndRender();
        document.getElementById("loadingOverlay").style.display = "none";
        document.getElementById("dashboardContainer").style.display = "block";
      }, 1200);
    }

    function calculateAndRender() {
      const type = document.getElementById("incidentType").value;
      const industryMult = parseFloat(document.getElementById("industryType").value || 1.0);
      const revenue = document.getElementById("revenueBracket").value;
      const records = document.getElementById("recordCount").value;
      const rootCause = document.getElementById("rootCause").value;

      let revenueMult = 1;
      let baseOpsLoss = 0;
      switch(revenue) {
        case "Micro": revenueMult = 0.5; baseOpsLoss = 5000; break;
        case "Small": revenueMult = 1.8; baseOpsLoss = 25000; break; 
        case "Mid": revenueMult = 7.5; baseOpsLoss = 120000; break;
        case "Large": revenueMult = 22.0; baseOpsLoss = 450000; break; // Aligning with IBM's $6.98M avg for large enterprise
      }

      let techCauseMult = 1.0;
      let forensicCauseMult = 1.0;
      if(rootCause.includes("Third Party")) { forensicCauseMult = 1.35; } // Third party breaches are 15-20% more expensive in Canada
      if(rootCause.includes("Exploited")) { techCauseMult = 1.2; }

      let incidentLabel = "";
      let duration = "";
      let irHours = 0, legalHours = 0, ransom = 0, downtime = 0;

      switch(type) {
        case "Ransomware":
          incidentLabel = "Ransomware Attack";
          downtime = 23; duration = "Avg. 30-90 Days Recovery Lifecycle";
          irHours = 120 * revenueMult; legalHours = 60 * revenueMult;
          if(revenue === "Micro") ransom = 45000;
          if(revenue === "Small") ransom = 280000;
          if(revenue === "Mid") ransom = 850000;
          if(revenue === "Large") ransom = 2400000;
          break;
        case "BEC":
          incidentLabel = "BEC / Financial Fraud";
          downtime = 5; duration = "Avg. 2-5 Weeks Recovery Lifecycle";
          irHours = 50 * revenueMult; legalHours = 40 * revenueMult;
          ransom = (revenue === "Large") ? 750000 : 125000;
          break;
        case "DataBreach":
          incidentLabel = "PII Data Exfiltration";
          downtime = 3; duration = "Avg. 250+ Days Recovery Cycle";
          irHours = 140 * revenueMult; legalHours = 220 * revenueMult;
          break;
        default:
          incidentLabel = "Cyber Incident";
          downtime = 7; duration = "Avg. 1-7 Days Recovery Lifecycle";
          irHours = 80 * revenueMult; legalHours = 40 * revenueMult;
      }

      let userCount = (records === "Low") ? 800 : (records === "Medium") ? 8000 : (records === "High") ? 45000 : 150000;
      
      // Technical Response Costs (MSSP/Consulting Rates: $250 - $450/hr CAD)
      const costIR = (irHours * 350) * techCauseMult;
      const costForensics = (irHours * 0.4 * 400) * forensicCauseMult;
      const costITSupport = (irHours * 2.5 * 185); // Added: technical support/recovery effort (2.5x the IR effort for restoration)
      const totalTech = costIR + costForensics + costITSupport;

      // Legal & Regulatory (Law 25/PIPEDA)
      // Law 25 fines can reach $25M or 4% of revenue. Logic reflects risk probability.
      const fineRisk = (type === "DataBreach" || type === "Ransomware") ? (userCount * 32 * industryMult) : 0; 
      const totalLegal = (legalHours * 575) + fineRisk + (userCount * 18); // Includes credit monitoring costs

      // Business Impact
      const costBizInt = downtime * baseOpsLoss * industryMult;
      const totalBiz = costBizInt + (revenueMult * 25000) + ransom;

      const grandTotal = totalTech + totalLegal + totalBiz;

      // Render Dashboard
      document.getElementById("resIncidentType").innerText = incidentLabel.toUpperCase();
      document.getElementById("resGrandTotal").innerText = formatCurrency(grandTotal);
      document.getElementById("resDuration").innerText = duration;

      document.getElementById("techDetails").innerHTML = `<h4>Technical Response</h4>
        <div class="cost-row"><span>Incident Response</span><span class="price">${formatCurrency(costIR)}</span></div>
        <div class="cost-row"><span>Forensics investigations</span><span class="price">${formatCurrency(costForensics)}</span></div>
        <div class="cost-row"><span>IT Support & Restoration</span><span class="price">${formatCurrency(costITSupport)}</span></div>`;
      
      document.getElementById("legalDetails").innerHTML = `<h4>Legal & Regulatory</h4>
        <div class="cost-row"><span>Regulatory & Legal fines</span><span class="price">${formatCurrency(fineRisk)}</span></div>
        <div class="cost-row"><span>Counsel & Data Notifications</span><span class="price">${formatCurrency(totalLegal - fineRisk)}</span></div>`;

      document.getElementById("bizDetails").innerHTML = `<h4>Business Impact</h4>
        <div class="cost-row"><span>Operations Downtime</span><span class="price">${formatCurrency(costBizInt)}</span></div>
        <div class="cost-row"><span>Extortion / Theft Loss</span><span class="price">${formatCurrency(ransom)}</span></div>`;

      updateChart(totalTech, totalLegal, totalBiz, grandTotal);
    }

    function updateChart(tech, legal, biz, total) {
      const pT = (tech/total)*100; const pL = (legal/total)*100;
      document.getElementById("donutChart").style.background = `conic-gradient(var(--accent-blue) 0% ${pT}%, var(--accent-purple) ${pT}% ${pT+pL}%, var(--accent-red) ${pT+pL}% 100%)`;
      const max = Math.max(tech, legal, biz);
      document.getElementById("topCostPercent").innerText = Math.round((max/total)*100) + "%";
    }

    function formatCurrency(n) { return "$" + Math.round(n).toLocaleString() + " CAD"; }
    function resetSim() { location.reload(); }
  </script>
</body>
</html>








